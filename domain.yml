version: "2.0"

# intents
intents:
  - greet
  - introduce
  - goodbye
  - affirm
  - deny
  - out_of_scope
  - lista_acciones
  - lista_asignaturas
  - escoger_anyo
  - registrar_asignatura
  - registrar_asignatura_codigo

# obtenidas con la NLU Pipeline
entities:
  - nombre_usuario
  - asignatura
  - user_id
  - anyo
  - usuario_registrado_asignatura
  - asignatura_codigo

# memoria del bot
slots:
  nombre_usuario:
    type: text
    influence_conversation: true

  user_id:
    type: text  
    # influence_conversation: true

  usuario_existe:
    type: bool
    # influence_conversation: true

  # usuario_no_existe:
  #   type: bool
  #   influence_conversation: true

  anyo:
    type: text
    # influence_conversation: true

  usuario_registrado_asignatura:
    type: bool
    # influence_conversation: true

  asignatura_codigo:
    type: text
    influence_conversation: true


# formularios


# respuestas
responses:
  utter_introduce:
  - text: "Hola! Soy Edubot."

  utter_greet_user:
  - text: "Hola, {nombre_usuario}!"

  utter_user_registered:
  - text: "Encantado, {nombre_usuario}. Ya estás registrado"

  utter_ask_name:
  - text: "Esta es la primera vez que hablamos. Cómo debería llamarte?"

  utter_ask_for_instructions:
  - text: "En qué puedo ayudarte?"
  - text: "Qué quieres hacer?"
  - text: "Cuál es tu siguiente instrucción?"

  utter_ask_anyo:
  - text: "De qué año?"
    buttons:
    - title: "Primero"
      payload: /escoger_anyo{{"anyo":1}}
    - title: "Segundo"
      payload: /escoger_anyo{{"anyo":2}}
    - title: "Tercero"
      payload: /escoger_anyo{{"anyo":3}}
    - title: "Cuarto"
      payload: /escoger_anyo{{"anyo":4}}


  utter_action_list:
  - text: "Aquí tienes una lista de las acciones que puedo realizar actualmente:"

  utter_out_of_scope:
  - text: "Lo siento, no puedo hacer eso"

  utter_rephrase:
  - text: "Lo siento, creo que no te he entendido. Me lo podrías repetir?"

  utter_goodbye:
  - text: "Hasta pronto!"


# cumstom actions
actions:
  - action_ver_asignaturas
  - action_lista_acciones
  - action_usuario_existe
  - action_guardar_nombre_usuario
  - action_lista_asignaturas_anyo
  - action_lista_asignaturas_anyo_button
  - action_lista_asignaturas_registrado
  - action_registrar_asignatura_codigo


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
