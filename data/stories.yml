version: "2.0"

stories:

- story: saludar usuario
  steps:
  - intent: greet
  - action: action_usuario_existe
  - checkpoint: check_usuario_existe

- story: saludar usuario nuevo y a√±adir BD
  steps:
  - checkpoint: check_usuario_existe
  - slot_was_set:
    - usuario_existe: false
  - action: utter_introduce
  - action: utter_ask_name
  - intent: introduce
    entities:
    - nombre_usuario
  - action: action_guardar_nombre_usuario
  - action: utter_user_registered
  - action: utter_ask_for_instructions

- story: saludar usuario existente
  steps:
  - checkpoint: check_usuario_existe
  - slot_was_set:
    - usuario_existe: true
  - action: utter_greet_user
  - action: utter_ask_for_instructions

- story: registrarse en asignaturas
  steps:
  - intent: registrar_asignatura
  - action: utter_ask_anyo
  - intent: escoger_anyo
  - slot_was_set:
    - anyo
  - action: action_lista_asignaturas_anyo_button
  - intent: registrar_asignatura_codigo
  # - slot_was_set:
  #   - asignatura_codigo
  - action: action_registrar_asignatura_codigo
  - action: utter_ask_for_instructions